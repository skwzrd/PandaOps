{% extends 'layout.html' %}

{% block body %}

<div>
    <h1>Panda Pops</h1>
    <br>

    <div class="row">
        <form method="POST" action="/" enctype="multipart/form-data">
            Import CSV
            <br>
            <input type="file" name="upload_df" accept=".csv">
            <br>
            <input type="submit" value='Select'>
        </form>

        <form method="POST" action="/" enctype="multipart/form-data">
            <input type="submit" name="sample_df" value="Load Sample DF">
        </form>

        <form method="POST" action="/" enctype="multipart/form-data">
            <div>
                {% if df_keys is not none %}
                    Select from loaded DF's
                    <br>
                    <select name="df_selection">
                        {% for df_key in df_keys %}
                            <option value="{{ df_key }}">{{ df_key }}</option>
                        {% endfor %}
                    </select>
                    <input type="submit" value='Select'>
                {% else %}
                    No DF's loaded.
                {% endif %}
            </div>
            <br>
        </form>

        <form method="POST" action="/" enctype="multipart/form-data">
            <input type="submit" name="clear" value="Clear View">
            <br>
            <input type="submit" name="clear" value="Clear DF Cache">
        </form>
        <br>
    </div>
    <br>
    
    {% if df is not none %}
        <form method="POST" action="/" enctype="multipart/form-data">
            Operations
            <br>
            <input class="op_btn" type="submit" name="operate" value="All">
            <input class="op_btn" type="submit" name="operate" value="Head">
            <input class="op_btn" type="submit" name="operate" value="Tail">
            <input class="op_btn" type="submit" name="operate" value="Describe">
        </form>
        <br>
        <div class="table_wrapper">
            {{ df | safe}}
        </div>
    {% endif %}
</div>

{% endblock %}
